tn5250j CHANGELOG
------------------------------------------------------------------------------
TODO/WISHLIST
-------------

Implement the insert (right shift of characters) for continued edit fields.

Add support for maintaining macros.  Think GUI interface.

Work on RFE defined as bug to support SNGCHCFLD.  The specifications are very
large to implement this - 57 pages worth of specs and the such.  Elementary
support for this is now there.  We no longer have session errors with this.

Implement support for images on the background. Wishlist for the future

Add option for sending partial screen information to file and/or e-mail.

Add restore of session sizes in MDI session interface.

Known problems
--------------
On some JVM linux machines the keymappings will have to be changed from the
default that I set up.  This is for JVM supplied by IBM.


Enhancements/Change Log
-----------------------
18/06/2005  New release with a whole lot enhancements.  Do not remember them all
            read the Readme.txt file for more information
            
13/03/2004  Fixed some field exit problems.

15/02/2004  Well we have not kept this up to date at all.  Hopefully
            we can catch it up to date from now on.

            Fixed the bounding area.
            Added kunstoff look and feel - Patrick Bielen
            Added access to functions/operations with password access
            Added delete macros functionality - Right click on the macro
            Fixed up some of the panels - Patrick Bielen
            Fixed a lot of problems in E-mail - Patrick Bielen
            Added new options to e-mail functions
               - New output to image .png
               - New access to just send quick message with file attachment -
                     Patrick Bielen
               - Send screen image via e-mail - Fixes by Patrick Bielen
            Added new options to define the margins for the Print Screen
               function.
            Added auto login support
            New splash screen donated by Carlo Daffara from Conecta http://www.conecta.it
            Added blinking cursor.  Beta code and may leave traces
            Added a new keep alive function to fix some network disconnect
               problems.

            Well just run it to see all the new stuff

---------------------------------------------------------------------------------
05/09/2002  Lots of clean up for bounding area selection.

04/09/2002  Added support to map scripts to the Key Mapping

            Added new access funtions to get SessionManager and a list of
            Sessions from scripts.

            Fix for bug 604515 for selection of mouse in continued area.

25/08/2002  Sort of the keyboard functions on Map Keys...

            Fixed the remapping of keyboard operations for special characters

            Fixed for Tabs when closing a session to set focus on the next
            session instead of always first one.  Next is MDI.  Hopefully
            fixes problem with bug report 595892

            Fixed error with System Request screen and Escape is used to
            dismiss the dialog.

            Fixed for MDI when closing a session to set focus on the next
            session instead of always first one.  Hopefully
            fixes problem with bug report 595892

24/08/2002  Fixed a number of problems since the last changelog entry

            Keybuffering problem with cursor disappearing, and doing all
            sorts of other things.  Complete rewrite of cursor handling.

            Added new cursor offset from bottom parameter.

            Fixed problem with hanging the emulator due to starting a
            new session in other window.  Caused by splashscreen

            Printing not showing up lightly.  Now prints in Black

            Error messages for script errors

            Added a script running indicator.

17/08/2002  Updated startup message to be more informational and less error
            sounding.

15/08/2002  Fix a problem with splash screen and painting a looking better.

            Added Russian code page 1025 from
            "Fomin, Leonid" <leonid.fomin@mosnar.com>

14/08/2002  Added splash screen.
            Added sorting to scripts menu

13/08/2002  Added support for scripting menu to support subdirectories

12/08/2002  Fixed the NULL error problem with keys strokes FOR REAL!!!!

10/08/2002  Fixed a problem with scripts not showing up if no macros where
            defined.

07/08/2002  Fixed the NULL error problem with keys strokes I think.

            Fixed the keybuffering to work correctly with reset.

06/08/2002  Fixed a problem with macros not ending themselves.

04/08/2002  Added to send via e-mail where if the smtp configuration file
            already exists then the option will read edit config instead of
            always config

            Added ability to list scripts on the macros menu from scripts
            directory only

03/08/2002  Added new categories to the session attributes screen:
               Cursor - Moved from display cat and added Ruler follows cursor
               Signoff - not implemented yet
               On Connect - added support to run a macro on connect
               Mouse - added double click send enter

            Fixed another problem with keybuffering hopefully the null as well

02/08/2002  Fixed a problem with the keybuffering where when there is an error
            it will clear the buffer and lock the keyboard.

31/07/2002  Fixed a problem with gui windows not restoring the screen correctly.

            Added support for multiple macros running at the same time for
            different sessions.

30/07/2002  Fixed a problem with error line again.

27/07/2002  Added scripting to emulator using jython.  We now have scripting!!!

25/07/2002  Add the macros in ascending order.  This and the session sorting
            have been needed for a long time.  Thanks Roy for the request.

            Added new italian translations from Maurizio.  Thanks

24/07/2002  Added a sorted session table to the connection screen.

23/07/2002  Added all predefined short cuts to a short cuts menu off of the
            keyboard menu item.

22/07/2002  Added changes from Maurizio to add an all-dep build target to the
            ant build.xml file.

            Added changes to the antbuild.txt file from Maurizio.

            Fixed session jumping for MDI interface.

21/07/2002  Added short cuts accelerators to popup menus.

            Another attempt at fixing a NULL error on keybuffering.

19/07/2002  Added short cuts to key mapping screen so now you are able to remap
            these keys as well.

15/07/2002  Added a message area for option message text to be attached to the
            e-mail.

12/07/2002  Made the connection dialog highlight the default session selection
            if one is specified.

            Fixed another problem with sys request dialog pane where the default
            option was not responding to key strokes.  I have now tested this on
            windows 1.3.0 through 1.4.0 and linux 1.4.0.  Thanks Irene for the
            report.

            Added a new button to connection dialog to apply changes.

            Added a new check box to connection dialog to show connection dialog
            at startup.  If you want the default option to be started without
            this prompt deselect this box.

11/07/2002  Fixed a problem when changing the colors the separator line in the
            Operator Information Area was not being repainted.

            Miscellaneous painting problems fixes.

10/07/2002  Added support for two new keys - dup and new line.  Thanks for the
            request Roy.  You will have to map these two keys if you already
            have a keymap.

            Added new popup menu item "keyboard" that has the following special
            key shortcuts:
               Attention;Error reset;Sys Req;Dup field;help;erase eof;field plus
               field minus;new line;host print

            display messages is now here as well if there are messages waiting

09/07/2002  Fixed a painting problem with session startup.

05/07/2002  Fixed a connection problem while negotiating environment settings.
            This was causing the session to never connect sometimes.  It would
            stay forever at connecting.  Finally found it!!!

            Fixed a problem with reset key resetting the emulator and unlocking
            the keyboard when there was a process running instead of an error
            condition.

            Added keybuffering/type ahead indicator.

04/07/2002  Fixed a problem with focus on system request text box.  The text box
            now gets the focus on all jdk versions.  Thanks for report wolfgang.

            Made session full screen on MDI interface when starting.

03/07/2002  Added a another color schema which is the Default Green on
            Black.

            Fixed focus problem with the connections dialog.  It now defaults to
            the sessions selection panel instead of screen appearance.

02/07/2002  Fixed screen repainting problem with keybuffering.

01/07/2002  Fixed some null pointer errors when running as an applet.

28/06/2002  Fixed another problem with restore of changed fields after a popup
            not being recognized as being change.  Thanks for the report, again,
            James

            Fixed a bug with keybuffering where if system request, reset, or
            attention key was not working if their was a long running job like
            a query.

            Tweaked the interface one more time for long running jobs where the
            interface was not very responsive at all.

            Fixed a null pointer exception for highlited entry fields.

26/06/2002  Added two new Radio Buttons to the connection screen to choose
            between Tab or MDI session presentation.  This can be overridden
            by the -MDI command line switch.

21/06/2002  Fixed a problem with special characters in extract to Open Office
            documents that was causing it to crash.

20/06/2002  Fixed a hang on the file transfer dialog for multiple member files.

15/06/2002  Added changes to the ant build.xml from Christian Geisert

13/06/2002  Added some fixes for key buffering.

            Fixed a dump that was being caused by the java e-mail apis not being
            available.  It will now display a message notifying that it is not
            found and the document to read to install these api's.

12/06/2002  Fixed some problems with the Multiple Document Interface sessions.

            Added jdk1.3 socket option for keep alive.  This means that you can
            not use jdk1.2 versions anymore.

06/06/2002  Fixed a problem with restore of changed fields after a popup not
            being recognized as being change.  Thanks for the report James

23/5/2002   Added new color schema from Alessandro Casassa named Asso from
            http:\\www.teknosw.it  alessandro.casassa@teknosw.it

20/5/2002   Fixed a problem with code page 280 for italian.

15/5/2002   Cleaned up some error messages on thread interruptions during session
            shutdown.

            Added frame persistance meaning that the frames will be restored to
            the same position and size as when they were closed.

            Fixed a problem on new sessions with the font changing if attributes
            are changed.  This was causing a random font to be used and replacing
            the original font used.  You would then have to go in and reset
            the font.  Not anymore :)

            Added new command line argument for testing of MDI interface instead
            of tabs.
              Command Line Option       Description
               -MDI                     Uses JInternalFrames instead of tabs
                                        to represent the sessions.

13/5/2002   Fixed a problem in screen print.  It will now only print what was on
            the screen at the time of initiating the print dialog.  If the user
            udated the screen the print thread would print what is on the
            current screen instead of what was there when the print was initiated.

09/5/2002   Added support for Highlighted Entry Fields.

08/5/2002   Fixed a problem with the connect dialog not showing up under some
            versions of the JDK.  I changed the JDialog to be resizable instead
            of non resizable and it worked as it should.  @#$@%@#$@#$

            Fixed a problem with the Highlighted Entry Fields being interpreted
            as Cursor progression fields.  Next is to actually get the the
            Highlighted Entry Fields to actually hightlight when entered :)

05/5/2002   Added Enter key as command key to connect that session from the
            session connection dialog.  You can now select the connect button
            or just hit the enter key.

01/5/2002   Added SMTP configuration dialog for Send via E-mail.  Now the
            configuration can be done by selecting Configure button from
            Send via E-mail dialog.

            Added ability to send the screen to text file as text output.
            This can be referenced vis Send Screen.  It now has two options
               Send Screen -> Via E-Mail
                              To File

29/4/2002   Added another parameter for column separators.  Now they are as
            follows:
               Line - Full height line
               Dot  - A dot like Rumba/Extra
               Short Line - like Client Access.

27/4/2002   CVS checkin notifications, updates and bug fixes.  Test CVS again

26/4/2002   Fixed a problem that was happening when sending data to the host.
            on a READ_MDT_FIELDS command 0x52 when should send blanks instead of
            a field with no length.  I was saying truncate all letters less than
            or equal to spaces.  Now it is all characters less than spacess.

17/4/2002   Fixed a problem with the boot strap deamon.  The writers were not
            being flushed and sockets were not be shutdown correctly thus
            causing problems at times.

            Fixed the debug logging.  It was broken in the last release.

            Fixed a problem with string index out of bounds for signed numeric
            fields.  Where the hell did that come from?????

16/4/2002   Changed some color attributes for turquoise and yellow to be inline
            with client access.  CA does not follow the document definitions but
            after a few questions of why they are different from client access
            I decided to change to be exactly like client access.

            Added new options to session configuration.

               description                command line option
               -----------------          -------------------
               Open in new frame          -noembed
               Session start monitoring   -d  - default on session configuration
               Start in new JVM           -nc

            For more information about these command line options please read
            secion 2a. of README.txt file.

15/4/2002   Started work on opening sessions in their own frames.  This can be
            accomplished by a new command line parameter of -noembed.

12/4/2002   Update Spanish literals

            Fixed a cursor repositioning problem on screen restores.

11/4/2002   Fixed a problem where the program would never end if there are no
            sessions active and the session connection dialog is cancelled.

            Updated Polish translations.  Thanks Janusz Sobczak

10/4/2002   Added support for mandatory enter fields.

            Updated Dutch translation.  Thanks to Patrick Bielen
            Updated Portuguese translation.  Thanks to Rui Palma

09/4/2002   Updated German translations.  Thanks to Wolfgang Krautt for the
            translations and Christian Geisert for helping with the special
            characters.

08/4/2002   Fixed field reading problem.  This was introduced while
            making changes for 21/3/2002.  The problem came from parsing the
            start of header (SOH) command incorrectly.

05/4/2002   Added new attribute for cursor ruler.  It was always there with
            the alt-L to toggle through them but now you can specify a
            default ruler line.  The alt-L option is still available.

            Changed print to print in background in it's own thread.  This
            fixes the problem of the dialog locking up while printing.

02/4/2002   Actually fixed the bug for reading fields from screen with
               CMD_READ_MDT_IMMEDIATE
               CMD_READ_MDT_IMMEDIATE_ALT

21/3/2002   New classes and code re-arrangement.

            A little better screen response we hope

            Fixed a problem with fields returning values when really there were
            no values returned.  This was a fix for a reported bug.  Thank you
            for the report.

            Fixed a bug for reading fields from screen with
               CMD_READ_MDT_IMMEDIATE
               CMD_READ_MDT_IMMEDIATE_ALT
            Found this while implementing the AUTO(RA) function

20/3/2002   Lots of code re-arrangement.

            Added default session selection to first session if there are sessions
            defined.

15/3/2002   Lots of code re-arrangement.  Hopefully this makes the user interface
            a little more responsive.

14/3/2002   Added a new connection/configuration screen.  This should null out
            the null pointer problem from 25/2 for the JDK 1.4.  Hope you all
            like it.

            - Added new tab to specify a socks proxy host.  I have not heard
               any feedback on this so went ahead and added it.
            - Added new command line parameter -usp which specifies whether
               to use the socks proxy or not.  This is specified on the proxy
               tab mentioned above and is a check box.

13/3/2002   Added double click of mouse to send enter.  I will need to add a
            flag to the session attributes screen to turn this on and off.

11/3/2002   Fixed a problem with the host print function.  It was causing a
            crash/error from some screens.

7/3/2002    Added codepages 277 for dk and no.  Thank you for the request.

            Now that we have them can somebody translate them????????????

25/2/2002   Fixed some problems happening in the JDK 1.4 version.
               - Null pointer exceptions coming from start new session and
                  using enter key to start instead of mouse to click start
                  button
               - Null pointer exception from keyReleased event coming from unknown
                  sources.  What a pain!!!!!!!!

22/2/2002   Added code for default session selection.  It was on the session
            configuration panel but it is now on the table selection as a
            check box.

            That is one of the TODO items off the list.

21/2/2002   Added two new Session Attribute fields.
               - Color of hex attribute when selected
               - Whether to use underlines or not in gui fields.  Default is
                  yes.

18/2/2002   Added an ant build how-to document and included a build.xml for
            building the emulator.

05/2/2002   Fixed an infinate loop on next field and prev field.  It only
            happened in certain instances and found it while fixing the
            previous problem of null pointer.  Never saw it before.

            Fixed a keying problem for windows users.  With all the keyboard
            work that was done I missed something really important.

04/2/2002   Fixed problem with null pointer exception on tab keystroke when
            no fields are defined.

28/1/2002   Fixed problem with keymapping configuration screen not showing the
            correct language literals for the option buttons.

            Fixed problem with the save as file dialog not showing itself
            correctly.  It was cutting off some of the buttons on the right.

24/1/2002   Fixed a problem with file transfer hanging up the emulator if there
            was an error transfering the file.

23/1/2002   Added special character mapping functionality to Map Keys dialog.

18/1/2002   Added unicode support for latin-2 (ISO-8859-2) languages.  This
            allows for the Polish Language.

            Added codepage 870-pl for polish code page.

            Thanks goes to Janusz Sobczak for the translation to Polish.

15/1/2002   Added a new field for fixed point size for 27X132 to the sessions
            attribute screen.

            Changed key handling to not interpret the Alt-Gr for the emulators
            keybindings.  This was causing problems with entering special
            characters for languages such as Polish.

            Added send screen via e-mail option to the popup menu.

19/12/2001  Add font scaling fields to the Session Attributes screen when
            selecting font.  This works for 27X132 for now until I get
            feedback if it works or not.

            The horizontal field is to control scaling left to right.
            The vertical field is to control scaling top to bottom.

18/12/2001  Fixed a very irritating disconnect problem when starting the
            emulator with the first session startup.

17/12/2001  Fixed some more focus problems with linux dialogs.  Almost all now.
            I am getting closer.

14/12/2001  Fixed a problem with bounding rectangle not disappearing after copy
            when selected with Shift + arrow keys.

13/12/2001  I got tired of loosing the emulator when a dialog was displayed.
            Now the dialogs and the main emulator stay together when switching
            between applications

            Fixed some more focus problems with linux dialogs.  All accept from
            the new session dialog.

11/12/2001  Added italian translation for emulator.
            Thank you Alessandro Casassa of http://www.teknosw.it

            Added ability to select which description from the file to use as
            header fields.
               Field text:
                  Full description
                     - or -
                  Internal name

05/12/2001  Added support for codepage 280 - italian.  Thank you for the request.

            Added option to transfer screen to select which text to use for the
            field descriptions.  Internal text or Full text.

29/11/2001  Fixed problem with downloads showing zero records transferred when
            there were actually records transferred.

            Fixed a formatting problem for numeric values.  The decimal
            precision was not being formatted correctly in the output filter.

27/11/2001  Fixed a problem with characters not showing up correctly in graphics
            mode for some fonts.  The right and/or left part of the character
            was not showing up.

20/11/2001  Ok got the excel file filter to output all rows but now the numeric
            are not formatted correctly.

19/11/2001  Added parameter acceptance to the My5250App.java for the command
            line parameters passed from the htlm to the app.  Almost all of the
            parameters are passed except -f at this time.

            Got it working for the first time over an intranet after figuring
            out the signing/certificate acceptance stuff for Applets.

17/11/2001  Started on making the emulator work as an Applet within a browser.

14/11/2001  Created a feeble attempt at an Excell file filter.  It works but can
            not figure out for the life of me how to get it to create more than
            256 rows.

13/11/2001  Added vertical scroll bar support.  Need to implement horizontal but
            first need to figure out how to create one.

09/11/2001  Added file transfer for KSpreadSheet and OpenOffice 6## formats.

            Added a new option for the decimal separator selection.

            Great thanks goes to Patrick Bielen for all the testing and reporting
            of bugs for this release.

            *** Note *** for the filters if the numbers do not show up correctly
            try transferring with a different decimal separator.

08/11/2001  Added Code Page 285.  Thank you Gordon for the request.

07/11/2001  Added two new color schemas.

            Pumpkin from Anonymous - I guess I am a little late for Halloween ;-)
            Algarve from Miguel Alves

02/11/2001  Added key assignment option for mapping keys to macros.  This can
            be accessed from the Map Keys option.  There is a combo box with
            keys and macros.  Choosing Macros will list all the defined macros
            for selection.

29/10/2001  Changed the 27*132 mode to scale the fonts.  The scale seems
            to be different on different JDK versions.  At this time it is set
            at 1.2 to scale the height of the characters.

            Added a KDE KSpread file output filter for file transfers from the
            AS/400.

26/10/2001  Added Dutch language.  Thank you Patrick Bielen

            Added a new color to the color list.  The new color is to set
            the color of the column separator.

24/10/2001  Added device name to the session configuration screen.
            Added port number to the session configuration screen.

18/10/2001  Fixed a lot of startup problems with command line parameters.  They
            should work as decribed in the readme.txt file.  Thanks to
            Patrick Beilen and his incesant testing and feedback I think I got
            all of them.

18/10/2001  Added four now key mapping keys:
               Mark Left - Mark the text to be copied to the left of the cursor
               Mark Right - Mark the text to be copied to the right of the cursor
               Mark Up - Mark the text to be copied up one row cursor
               Mark Down - Mark the text to be copied down one row

            After marking a bounded area you can use copy - Alt-c - or copy from
            the popup menu - right click of mouse.

            These are mapped as dead keys - not used - if there is already a key
            map generated.  You will have to map these four new keys so that they
            will function.

16/10/2001  Enhanced logging to log all streams when turned on until turned off.

11/10/2001  Added a sum area function to allow the summing of a column of numbers
            that have been selected by the mouse.  This option will only show
            up if there was a bounded area selected for example copy and paste.
            You can select two different formats to parse numbers.  The Grouping
            separator as ',' and a '.' as Decimal Separator, #,###.## or
            the grouping seaparator as '.' and a ',' as Decimal Separator,
            #.###,##  .


10/10/2001  Fixed a problem with cut and paste on last line of screen.  When
            trying to copy from last line of screen only it was not correctly
            calculating the rows and columns thus not cutting correctly.

            Fixed ArrayIndexOutOfBounds error when a session is disconnected.
            I should only be updated the session tab when I receive a connection
            event.

            Hopefully fixed some focus problems under linux and JDK1.4 beta under
            windows.

09/10/2001  Fixed a problem when the host resets the connection to the emulator.
            This was causing the connections to never end and taking up 100%
            of the cpu.  This would happen during an IPL or host cutting the
            socket for some reason.

08/10/2001  Fixed intermittent problem with screen not showing up sometimes.
            This was mostly in linux and only when device name (-dn option) was
            used.  I ended up wrapping the code that changes the tab name in a
            SwingUtilities.invokeLater(xxxx) call.  That seems to have solved
            the screen issues.

07/10/2001  Added new command line option for device name.  * NOTE * This is
            test code and may not work.  I have been experiencing problems with
            it on linux.

               -dn ----> This option takes a device name parameter to be used
                           by the Host.  The device name is 10 characters in
                           length and following rfc2877 it the device name
                           is already allocated then the device name will be
                           sent again with a consecutive number appended.  If
                           the device name plus appended sequencial number is
                           longer than 10 characters then the device name is
                           truncated until the device name and the appended
                           sequential number fits into 10 characters.

                         For example:
                         -dn DEVICEUSER

                         This will send the device name on allocation to the host
                         as DEVICEUSER.  If there is already a session allocated
                         with device name DEVICEUSER then the emulator will send
                         the device name with a 1 (number one) appended as
                         DEVICEUSE1 if this is allocated then DEVICEUSE2 and so
                         on until the host says no more attempts are allowed or
                         the same device name is sent twice in succession as per
                         rfc2877.

                         This option will also change the session name to that
                         of the allocated device name.

25/09/2001  Added new options to start "poor mans deamon mode" for checking for
            other instances of the emulator.  This was the default but after
            feedback from Martin Reising he suggested a switch to start this.
               -d ---> Startup BootStrap deamon.

            Added new key map entry for sending the attention key.  You will have
            to map the key as it will be mapped as a non functioning key if you
            have already run the emulator once.

            Changed attribute settings to update the screen with new color
            attributes when they change.

            Added a new option to the settings screen to allow the selection of
            some predefined color schemas.  I hope to get some from you guys to
            include.  Send me the color attributes from your session configur-
            ation file and a name the schema and I will add it.  The color
            attributes are those properties with color in front of them.

24/09/2001  Added new options to not check for other instances of a JVM
               -nc  ---> no check for other tn5250j instances that are running

                         A new frame will be created within another instance
                         of JVM

            Added support for window titles and footers and justifications
               right, left, and center.

23/09/2001  Added socks proxy support.  The new command line options are:
               -sph ---> Socks Proxy Host
               -spp ---> Socks Proxy Port

            There is no place to specify these options on the configuration
            screen.  I will put it there in the future when all testing and
            bugs are worked out.

            ** NOTE *** This does not work under JDK 1.4 beta 2.  I will need to
            check the bug reports or maybe I have to set another property now.

            ** NOTE *** This is considered test code.  I can not guarantee that
            it will work on all machines at this time.

21/09/2001  Added support to start a new session within the same JVM.  Still in
            test.

20/09/2001  Fixed the screen resizing again.  This time for good!! Well at least
            until I mess with the painting code again :-)

            Spanish Translation

            Added new frame icon.  I wish it was something exotic and/or beautiful
            but this is what I came up with.  If someone artistic can create
            another one please do so and send it to me.

19/09/2001  Added three new options to the command line switches.

            -s -> start up using an existing configured session
            -width -> start up emulator using the width specified
            -height -> start up emulator using the height specified

            Added a confirmation screen to session closing.  This will prompt
            the user for which session to close down.

               Current Session - the session that sent the close
               All Sessions - all currently connected sessions
               None - No sessions.  Do nothing

            Fixed a bug in displaying windows again.  Documentation does not
            say that the 5494 does not always send the border attributes in
            the minor structure.  Well if the attributes are defined that does
            not mean that the border characters are included as well.

            Updated the German translations sent from Martin Reising.

            Inserted patch from Martin Reising of http://www.natural-computing.de
            that allows multiple sessions to be opened from the command line
            using the -s command line option.  Now if multiple -s options are
            specified then those sessions will be opened when the emulator starts
            up.

18/09/2001  Added new codepage 500-ch for switzerland.  Thank you Mr. Graenacher
            for the request.  I hope I got the correct one.

            Added new key binding Alt-q for closing a session and removing it
            from the session panel.

16/09/2001  Added support for signed numeric that was not in the first release
            of file transfer.

            Added i18n support to the XTFRFile program so that literals can be
            translated.

            Updated to use the decimal grouping character of the locale instead
            of hard-coded '.'

            Documented the FTP5250Prot class module

            Tested against the JDK 1.4 beta 2 on windows and linux.  Linux has a
            problem with the key events or something.  I will be debugging that
            later.

15/09/2001  Added progress monitor and interactive text area for ouput to file
            downloads.

10/09/2001  Added retrieval of member list to obtain size of member

8/09/2001   Added support of member to downloads.

30/08/2001  Fixed a problem with sticky keys between sessions.  The keys would
            seem to remap from the other sessions.

29/08/2001  Added option to popup menu to close down the session and remove it
            from the tab pane.

25/08/2001  Added file selection chooser for local file.

24/08/2001  Added file transfer to emulator.  It can be selected from the popup
            or by pressing Alt + T.

21/08/2001  Fixed a problem when a macro is the first macro added.  It was not
            showing up.

18/08/2001  Fixed a split message problem reported by Martin Reising.
            The response message was being split between two message buffers
            upon connection to host.  This caused the screen not to show up
            during connections to hosts that use this method.

            Added support for window headers/footers in enhanced mode.  It is
            not finished but it is now supported.  I still have to parse some
            of the options for orientation and justification.

17/08/2001  Resize problem fixed.

16/08/2001  Macros record fucntion added.  It is not complete but does work.

            Implemented code for Beginning of Field, Erase field and Erase to
            End of Field.  Now mnemonics for those should work.

15/08/2001  Macros where added.  I will add a record function for interactive
            creation in the future.  Read the macros.txt file for how to use this
            functionality.

14/08/2001  Added an interactive key mapping option.  It took me some time to
            get this working because Linux works differently than Windows so I
            had to make sure that it worked on both.  Also, testing for the
            JVM 1.4 beta under windows.

            Added new option to the pop menu for key mapping.

08/08/2001  Changed the option buttons to flow left to right instead of top to
            bottom.  Per request by feedback of Martin Reising.

            Added german translation.  Thank you Martin Reising.
            file tn5250jMsgs_de.properties

07/08/2001  Changed the debug toggle switch from ESC to ALT-O.

            Added copy and paste keys shortcuts back.  I forgot them.  To
            activate them delete the keymap file and restart emulator or add
            them by hand to the keymap file as follows:

            [copy]=67,false,false,true
            [paste]=86,false,false,true

06/08/2001  Added a new color to the color attributes panel to change the color
            of the cursor.

06/08/2001  Added a keyboard remapping functionality through "keymap" properties
            file for now.  The file will be created automatically on first run
            of emulator.  When the file exists you can change the information in
            the file.  The keyboard is mapped across ALL sessions.

            The file has the following layout:
            Key <-> Keycode , isShiftDown , isControlDown , isAlternateDown

            for example the default of Enter and Field Exit is:

            [enter]=17,false,true,false
                     17 = keyCode for Control key
                     false = Shift key is not pressed
                     true = Control key is pressed
                     false = Alternate key is not pressed

            [fldext]=10,false,false,false
                     10 = keyCode for Enter key
                     false = Shift key is not pressed
                     false = Control key is not pressed
                     false = Alternate key is pressed

            If you want to change this to the Enter key as enter and Shift + Enter
            as Field Exit then change to the following:

            [enter]=10,false,false,false
                     10 = keyCode for Enter key
                     false = Shift key is not pressed
                     false = Control key is not pressed
                     false = Alternate key is not pressed

            [fldext]=10,true,false,false
                     10 = keyCode for Enter key
                     true = Shift key is pressed
                     false = Control key is not pressed
                     false = Alternate key is pressed

            When I get the time I will build an interface to assign keys
            interactively.

            The key values are represented in the following table:

            Description          Key Value of keymap file
            ---------------      ------------------------
               BACK_SPACE           [backspace]
               BACK_TAB             [backtab]
               BEGIN_OF_FIELD       [bof]
               CLEAR                [clear]
               DELETE               [delete]
               DOWN                 [down]
               COPY                 [copy]
               END_OF_FIELD         [eof]
               ENTER                [enter]
               ERASE_EOF            [eraseeof]
               ERASE_FIELD          [erasefld]
               FIELD_EXIT           [fldext]
               FIELD_MINUS          [field-]
               FIELD_PLUS           [field+]
               HELP                 [help]
               HOME                 [home]
               INSERT               [insert]
               KEYPAD_COMMA         [keypad,]
               KEYPAD_MINUS         [keypad-]
               KEYPAD_PERIOD        [keypad.]
               KEYPAD0              [keypad0]
               KEYPAD1              [keypad1]
               KEYPAD2              [keypad2]
               KEYPAD3              [keypad3]
               KEYPAD4              [keypad4]
               KEYPAD5              [keypad5]
               KEYPAD6              [keypad6]
               KEYPAD7              [keypad7]
               KEYPAD8              [keypad8]
               KEYPAD9              [keypad9]
               LEFT                 [left]
               NEXT_WORD            [nextword]
               PA1                  [pa1]
               PA2                  [pa2]
               PA3                  [pa3]
               PASTE                [paste]
               PAGE_DOWN            [pgdown]
               PAGE_UP              [pgup]
               PF1                  [pf1]
               PF10                 [pf10]
               PF11                 [pf11]
               PF12                 [pf12]
               PF13                 [pf13]
               PF14                 [pf14]
               PF15                 [pf15]
               PF16                 [pf16]
               PF17                 [pf17]
               PF18                 [pf18]
               PF19                 [pf19]
               PF2                  [pf2]
               PF20                 [pf20]
               PF21                 [pf21]
               PF22                 [pf22]
               PF23                 [pf23]
               PF24                 [pf24]
               PF3                  [pf3]
               PF4                  [pf4]
               PF5                  [pf5]
               PF6                  [pf6]
               PF7                  [pf7]
               PF8                  [pf8]
               PF9                  [pf9]
               PREVIOUS_WORD        [prevword]
               PRINT                [print]
               RESET                [reset]
               RIGHT                [right]
               SYSREQ               [sysreq]
               TAB                  [tab]
               UP                   [up]

02/08/2001  Changed to use package structure org.tn5250j.*
            I also changed most of the classes to begin with an uppercase
            character to fit with standards.

            Fixed a screen attribute parsing problem (I finally found it!!!!!).
            When using ftp after entering the password the screen was not being
            updated correctly.  Also; some windows where not being painted
            correctly because of this.  One if statement and all that went away.

28/06/2001  Added code to resize application frame to last size when closed.

27/06/2001  Added check box to make session the default session but no code
            behind it yet.

27/06/2001  Added field copy.  If there is a popup in a field and there is no
            area selected previously then the option copy is to copy the data
            that is contained in the field.   Paste and Paste Special work the
            same in both popups.

26/06/2001  More modifications to deploy with JavaWebStart.  It is working great.
            Added two new options to the sessions file.  When I get time I will
            somehow add them to the configuration menu.

            emul.locale=      This sets the language of the emulator.  It can be
                              overridden with the -L command line option.

            emul.default=     This allows you to set a default session to be
                              used on startup.  Just fill in one of the sessions
                              that exist in the sessions file.

25/06/2001  Made some modifications so that we can deploy with JavaWebStart.  If
            you have not checked this program out you should really do so.  The
            URL is http://java.sun.com/products/javawebstart/

25/06/2001  Fixed problem when high values are sent in data stream.  0xFF is
            not a valid character but we found some cases where they are being
            sent in the data stream.  This caused two problems.  One; the screen
            would seem to hang and doing sysreq and 2 would get you out of it
            but you could not display screens with this data.  Two; the value of
            the length of the stream data was not really what was being passed
            as the length of the data stream thus throwing my parsing off.
            If there was a 0xFF in the data stream then it was always followed
            by another 0xFF.  So the length I was receiving was always off by +1
            or as many of these combinations as occurred in the data stream / 2.

            Sorry to bore you with the details but I could not find this
            anywhere in the documentation.  It only says that 0xFF is not valid
            so I assumed this would not be sent.  Great documentation!!!!!!

22/06/2001  Fixed bug with restore of screen when switching between 24 and 27
            row displays.

22/06/2001  Fixed problem with original error line being over written if there
            were multilple errors.

22/06/2001  Fixed problem with error messages not showing up in 27*132 mode.
            The error row is passed differently in this mode, go figure.  It is
            always one row larger than the number of screen rows if it is the
            last row of the screen.  Why???????

21/06/2001  27*132 support.  You can specify this on the configuration screen
            not the attributes screen.
            *** NOTE *** I consider this test (in other words I can not
            guarantee that this works) code.  Use at your own risk for now.

20/06/2001  Key Buffer again.  Still not perfect but better I think

20/06/2001  Fixed gui fields not showing up as gui fields after restore.

20/06/2001  Translation of new strings to Spanish, Catalan, French and Portuguese
            Thanks to the following people again for correcting me.  Like I said
            my native language is English and the others are second, third, and
            fourth.  Catalan I have no clue.  Please if anybody finds something
            that does not fit please send corrections.

            Irene Serrano, Jesus Irausquin - Castillano
            Miguel Alvez - French
            Rui Palma - Portuguese
            Didac Lopez - Castillano and Catalan

15/06/2001  Fixed message wait indicator disappearing on resize of
            screen and lots of code cleanup.

13/06/2001  Fixed a really annoying problem with the last character typed in the
            the last column of a field that is at the last colum of the screen.
            The !@#$ thing now shows up!!!!!!!!!!!!!!!!!!!!

13/06/2001  Cleaned up the code of the configuration screen.  Put comments not
            Javadoc documentation but comments.

12/06/2001  Finished configuration screen.  The code is dirty and will clean
            it up later but it does work.  You can add, edit and delete
            sessions.  I will get to translating as time permits.  If anyone
            would like to do this please change the files for your locale and
            I will update the files.  It is not the prettiest but it does work.

08/06/2001  Started configuration screen will finish as I find time

08/06/2001  Fixed a restore screen field problem where when a screen was
            restored the field linkages were not being updated for next and
            previous fields.  This was a large problem with cursor progression
            fields.

07/06/2001  Fixed a start up problem with different parameters.  Also changed
            startup sequence to only display session selection if no startup
            session parameters are passed in when calling emulator.  Added
            option to session selection to configure but no code yet.

07/06/2001  Added new color attribute for input fields when gui is enabled.

05/06/2001  Added new attribute to display to show attributes.  Hex is to show
            the hex values and normal is to now show attributes on the screen.

01/06/2001  GUI enhancements for hotspots

28/05/2001  Changed the keypad back to JButtons and made them display better.
            This is a bug fix release because the mixing of Heavyweight and
            Lightweight components was causing major focus problems on Linux.

25/05/2001  Internationalization of application.  We now have English, Spanish,
            French and Catalan.  German and Portuguese are in the works.
            If you guys have any problems with our translations please let me
            know.  I am not a native Spanish, French nor Portuguese speaking
            person.  Thank you for the requests.  I would like to extend my
            thanks to the following people that corrected my Spanish and French.
            Irene Serrano, Jesus Irausquin - Spanish
            Leonel Olivera, Miguel Alvez - French and Portuguese
            Didac Lopez - Castillano and Catalan

25/05/2001  Fixed a focus problem on linux.  When the attributes screen is shown
            the focus was not returning back to the screen.

24/05/2001  Started the long overdue Internationalization.  I will start Spanish,
            French, Portuguese and Catalane tommorrow.

24/05/2001  Added hotspot for http:// there is not code behind it yet it just
            just writes a message to stdout.

23/05/2001  Changed the keypad button from JButtons to Buttons.  I did not like
            the way the JButtons where being displayed with the text.  For those
            that want to see what the JButtons look like I have left the code
            there but commented out.  Change the Button to JButton, change all
            setLabel to setText, uncomment the code the private static variables
            and paintComponent, recompile.  I started to implement my own button
            but decided not to and took the easy way out.  Hope this does not
            cause problems with mixing lightweight and heavyweight controls.  So
            far so good.  Maybe add a feature to select which one you want in
            the future.

23/05/2001  Fixed problem of the note for 22/05/2001 for the keypad and resizing
            the screen.

23/05/2001  Added the Hotspot assignments for More... and Bottom to the hotspot
            attribute screen.  For other languages besides English you can put
            the string literal for More... in the field that is provided.  The
            same for bottom.  For example French is "A suivre..." so I would
            place this in the field next to the label More...  For Bottom it is
            "Fin" so this would be typed in the field labeled Bottom.  I have
            tested this on french and spanish.

22/05/2001  Added More... and Bottom for hotspots.  Clicking More... will do
            a page down.  Clicking Bottom will do a page up.  Sorry only
            English at this time until I can figure out a nice way to implement
            a multi-lingual version.  Any suggestion can be sent to
            kjpou@hotmail.com or posted on sourceforge.

22/05/2001  Added a keypad feature that displays the PF keys and other at the
            bottom of the screen.  This is a work in progress because I have
            other ideas for it.  Also added this to the Attibutes screen under
            Key Pad.

            * NOTE * There is still a problem with the apply for this.  If
            keypad is first turned on and the screen does not resize correctly
            turn the keypad on or off again and hit apply.
            Get this worked out later.

17/05/2001  A little more memory and GC cleanup.

14/05/2001  Changed the save and restore again to not transfers so much data
            also fixed a couple more memory problems which I was not letting
            go of for garbage collection.

10/05/2001  Changed the save and restore screen to use the AS400 as a repository
            for the save data.  This generates more traffic but it will allow
            tn5250j to reserve more memory by not storing saved screen data in
            memory as objects.

09/05/2001  Fixed a problem with cursor positioning (again) when I send an error
            to the screen.  This was because of the change on 01/05/2001 for
            getting the error messages from the AS400.

04/05/2001  Added code page 273 for German.  Thank you  for your request.

01/05/2001  Changed emulator to get error messages from the as400 to be
            displayed on the screen instead of using my hard coded english
            messages.  This should display the error messages in the language
            of the system that emulator is connected too.

30/04/2001  Added new attributes screen.  It looks pretty now.
            New attributes added where gui interface and hotspots.  I will
            leave the command line option there for now.  If the property
            exists in the properties file it will override what is passed on
            the command line for -gui.  There is also a new option i18N that
            is not implemented yet but I will use this in the future for
            internalization of messages.  That is being added to the todo list.

27/04/2001  Added an option to the popup menu to display messages if the MW
            light is on.  Alt + M was added to do the same thing but this can
            be pressed at any time.  Read the README file for explanations of
            these two items.

27/04/2001  Fixed a problem with the interface hanging when connecting with the
            connect and disconnect options from popup or ALT + x

26/04/2001  Fixed another hotspot error hanging the user interface.

24/04/2001  Cleaned up the hotspot code a little more to keep from getting
            non hotspot links (whew what a pain).  Added hotspots to menu
            entries and screens for selections.  Still have a few hotspots
            show up that are really not hotspots.  Displayed numbers are one
            of them.  Can not figure a way to get rid of them yet but they
            are fewer from the previous release.  Enjoy.

23/04/2001  Added ALT + S to toggle hotspots on and off default is off
            until I can implement this in the attributes screen or somewhere
            else.  Any ideas?
            Added ALT + G to toggle GUI Interface on and off

23/04/2001  Fixed bug in hotspot code that caused an error when trying to access
            a part of the screen past the number of columns defined.

23/04/2001  Changed the background color of gui fields to be white by default
            instead of tied to the white color of the screen attribute colors.
            This will stay like this until I can get the color attributes added
            to the attributes screen

22/04/2001  Added -t flag to command parameters to use the text from the session
            list instead of the host name.  See readme.txt file for use.

22/04/2001  Actually added the code for the hotspots

21/04/2001  Added hotspots for the PFKeys.

20/04/2001  Cleaned up restoring of gui constructs so that the screen is clean
            after a restore screen command.  It was not restoring the graphic
            /gui elements correctly.

19/04/2001  Added etched border for gui windows and cleaned up the painting of
            fields to look more like gui fields.

19/04/2001  Fixed bug 416934.  Took the socket.KeepAlive() out of program
            this is available for JDK1.3 and above and really does not need to
            be in the code.  The part about the "M at the end of the lines of
            the tnvt.java module I can not reproduce.  Thanks to bmcully for
            reporting this problem.  You should be able to compile now.

18/04/2001  Added scroll bars to attributes page for users that have 800/600
            screens.  *** Note **** I do not like it and am planning to revamp
            it when I get the time.  I get complaints about it all the time.

18/04/2001  Added GUI enhancements and flag -gui to command line to enable this.
            updated readme.txt file to reflect these changes

17/04/2001  Took the changelog, readme, and copying files out of the jar file.
            I figure that they are delivered in the main zip file so should not
            be put in the jar file for distribution purposes.

17/04/2001  Fixed another threading problem.  When an action key is hit a
            number of times really fast the interface was locking up.  Also
            wrapped the key event dispatching up in the swing utilities invoke
            and wait to be executed in the swing thread.  Maybe this is wrong??
            could someone look at it and let me know....  Feedback for the
            keyboard buffering code would be greatly appreciated !!!!!!!!!!!
            Also do not know how this works under a 1.2 JVM.


16/04/2001  Split the readme file into two parts, readme and changelog, and
            added them to the jar file as well.

16/04/2001  Fixed the status line not showing up when the screen is resized.

13/04/2001  Support for Delete and backspace key in continued edit fields and or
            masked fields ( *** NOTE *** I made it work like Client Access in that
            when the first column of a continued edit field or masked edit field
            is reached then an error is generated if the user tries to backspace
            beyond the first column of the field or backspace over an mask
            character.  Maybe this should not be let me know.)

12/04/2001  Fixed a threading problem between sessions again (I hope this time).

11/04/2001  Fixed screen attribute painting for enhanced and normal.  This was
            major in my opinion so I moved the version from 0.2 to 0.3 after
            testers feedback.

04/04/2001  Fixed field exit on continued edit end masked edit fields.

04/04/2001  Added next and previous field support for continued edit fields when
            tabbing, field exit, field plus and field subtract.  It was not
            positioning on the next field but on the next segment of the
            continued entry field.  According to the documentation a continued
            edit field or masked edit field should be treated as one whole field.

04/04/2001  Added cursor progression support in enhanced mode

Comments, questions, bug reports and patches are much appreciated - please
subscribe to the list and post them there if at all possible at sourceforge.net.

If that's too much trouble, email me at the following:
kjpou@hotmail.com

Sourceforge at https://sourceforge.net/projects/tn5250j/


Enjoy!


